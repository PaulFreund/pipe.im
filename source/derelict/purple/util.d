/*

Boost Software License - Version 1.0 - August 17th, 2003

Permission is hereby granted, free of charge, to any person or organization
obtaining a copy of the software and accompanying documentation covered by
this license (the "Software") to use, reproduce, display, distribute,
execute, and transmit the Software, and to prepare derivative works of the
Software, and to permit third-parties to whom the Software is furnished to
do so, all subject to the following:

The copyright notices in the Software and this entire statement, including
the above license grant, this restriction and the following disclaimer,
must be included in all copies of the Software, in whole or in part, and
all derivative works of the Software, unless such copies or derivative
works are solely in the form of machine-executable object code generated by
a source language processor.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

*/ 

module derelict.purple.util;

import derelict.glib.gtypes;
import derelict.glib.glibconfig;
import derelict.glib.glist;
import derelict.glib.gdataset;
import derelict.purple.account;
import derelict.purple.signals;
import derelict.purple.notify;
import derelict.purple.xmlnode;
import core.stdc.config;
import core.stdc.time;
import core.stdc.stdio;

extern (C):

alias _PurpleUtilFetchUrlData PurpleUtilFetchUrlData;
alias _PurpleMenuAction PurpleMenuAction;
alias _PurpleKeyValuePair PurpleKeyValuePair;
alias char* function (const(char)*, c_ulong) PurpleInfoFieldFormatCallback;
alias void function (_PurpleUtilFetchUrlData*, void*, const(char)*, c_ulong, const(char)*) PurpleUtilFetchUrlCallback;

struct _PurpleMenuAction
{
	char* label;
	PurpleCallback callback;
	gpointer data;
	GList* children;
}

struct _PurpleKeyValuePair
{
	gchar* key;
	void* value;
}

struct _PurpleUtilFetchUrlData;

extern( C ) nothrow 
{
	alias da_purple_menu_action_new = PurpleMenuAction* function(const(char)* label, PurpleCallback callback, gpointer data, GList* children);					                                                                                                                            																	
    alias da_purple_menu_action_free = void function(PurpleMenuAction* act);																					                                                                                                                            																	
    alias da_purple_util_set_current_song = void function(const(char)* title, const(char)* artist, const(char)* album);											                                                                                                                            																	
    alias da_purple_util_format_song_info = char* function(const(char)* title, const(char)* artist, const(char)* album, gpointer unused);						                                                                                                                            																	
    alias da_purple_util_init = void function();																												                                                                                                                            																	
    alias da_purple_util_uninit = void function();																												                                                                                                                            																	
    alias da_purple_base16_encode = gchar* function(const(guchar)* data, gsize len);																			                                                                                                                            																	
    alias da_purple_base16_decode = guchar* function(const(char)* str, gsize* ret_len);																			                                                                                                                            																	
    alias da_purple_base16_encode_chunked = gchar* function(const(guchar)* data, gsize len);																	                                                                                                                            																	
    alias da_purple_base64_encode = gchar* function(const(guchar)* data, gsize len);																			                                                                                                                            																	
    alias da_purple_base64_decode = guchar* function(const(char)* str, gsize* ret_len);																			                                                                                                                            																	
    alias da_purple_quotedp_decode = guchar* function(const(char)* str, gsize* ret_len);																		                                                                                                                            																	
    alias da_purple_mime_decode_field = char* function(const(char)* str);																						                                                                                                                            																	
    alias da_purple_utf8_strftime = const(char)* function(const(char)* format, const(tm)* tm);																	                                                                                                                            																	
    alias da_purple_get_tzoff_str = const(char)* function(const(tm)* tm, gboolean iso);																			                                                                                                                            																	
    alias da_purple_date_format_short = const(char)* function(const(tm)* tm);																					                                                                                                                            																	
    alias da_purple_date_format_long = const(char)* function(const(tm)* tm);																					                                                                                                                            																	
    alias da_purple_date_format_full = const(char)* function(const(tm)* tm);																					                                                                                                                            																	
    alias da_purple_time_format = const(char)* function(const(tm)* tm);																							                                                                                                                            																	
    alias da_purple_time_build = time_t function(int year, int month, int day, int hour, int min, int sec);														                                                                                                                            																	
    alias da_purple_str_to_time = time_t function(const(char)* timestamp, gboolean utc, tm* tm, c_long* tz_off, const(char*)* rest);							                                                                                                                            																	
    alias da_purple_markup_escape_text = gchar* function(const(gchar)* text, gssize length);																	                                                                                                                            																	
    alias da_purple_markup_find_tag = gboolean function(const(char)* needle, const(char)* haystack, const(char*)* start, const(char*)* end, GData** attributes);                                                                                                                            																	
    alias da_purple_markup_extract_info_field = gboolean function(const(char)* str, int len, PurpleNotifyUserInfo* user_info, const(char)* start_token, int skip, const(char)* end_token, char check_value, const(char)* no_value_token, const(char)* display_name, gboolean is_link, const(char)* link_prefix, PurpleInfoFieldFormatCallback format_cb);		
    alias da_purple_markup_html_to_xhtml = void function(const(char)* html, char** dest_xhtml, char** dest_plain);																																                                                                                                                
    alias da_purple_markup_strip_html = char* function(const(char)* str);																																										                                                                                                                
    alias da_purple_markup_linkify = char* function(const(char)* str);																																											                                                                                                                
    alias da_purple_unescape_text = char* function(const(char)* text);																																											                                                                                                                
    alias da_purple_unescape_html = char* function(const(char)* html);																																											                                                                                                                
    alias da_purple_markup_slice = char* function(const(char)* str, guint x, guint y);																																							                                                                                                                
    alias da_purple_markup_get_tag_name = char* function(const(char)* tag);																																										                                                                                                                
    alias da_purple_markup_unescape_entity = const(char)* function(const(char)* text, int* length);																																				                                                                                                                
    alias da_purple_markup_get_css_property = char* function(const(gchar)* style, const(gchar)* opt);																																			                                                                                                                
    alias da_purple_markup_is_rtl = gboolean function(const(char)* html);																																										                                                                                                                
    alias da_purple_home_dir = const(gchar)* function();																																														                                                                                                                
    alias da_purple_user_dir = const(char)* function();																																															                                                                                                                
    alias da_purple_util_set_user_dir = void function(const(char)* dir);																																										                                                                                                                
    alias da_purple_build_dir = int function(const(char)* path, int mode);																																										                                                                                                                
    alias da_purple_util_write_data_to_file = gboolean function(const(char)* filename, const(char)* data, gssize size);																															                                                                                                                
    alias da_purple_util_write_data_to_file_absolute = gboolean function(const(char)* filename_full, const(char)* data, gssize size);																											                                                                                                                
    alias da_purple_util_read_xml_from_file = xmlnode* function(const(char)* filename, const(char)* description);																																                                                                                                                
    alias da_purple_mkstemp = FILE* function(char** path, gboolean binary);																																										                                                                                                                
    alias da_purple_util_get_image_extension = const(char)* function(gconstpointer data, size_t len);																																			                                                                                                                
    alias da_purple_util_get_image_checksum = char* function(gconstpointer image_data, size_t image_len);																																		                                                                                                                
    alias da_purple_util_get_image_filename = char* function(gconstpointer image_data, size_t image_len);																																		                                                                                                                
    alias da_purple_program_is_valid = gboolean function(const(char)* program);																																									                                                                                                                
    alias da_purple_running_gnome = gboolean function();																																														                                                                                                                
    alias da_purple_running_kde = gboolean function();																																															                                                                                                                
    alias da_purple_running_osx = gboolean function();																																															                                                                                                                
    alias da_purple_fd_get_ip = char* function(int fd);																																															                                                                                                                
    alias da_purple_socket_get_family = int function(int fd);																																													                                                                                                                
    alias da_purple_socket_speaks_ipv4 = gboolean function(int fd);																																												                                                                                                                
    alias da_purple_strequal = gboolean function(const(gchar)* left, const(gchar)* right);																																						                                                                                                                
    alias da_purple_normalize = const(char)* function(const(PurpleAccount)* account, const(char)* str);																																			                                                                                                                
    alias da_purple_normalize_nocase = const(char)* function(const(PurpleAccount)* account, const(char)* str);																																	                                                                                                                
    alias da_purple_str_has_prefix = gboolean function(const(char)* s, const(char)* p);																																							                                                                                                                
    alias da_purple_str_has_suffix = gboolean function(const(char)* s, const(char)* x);																																							                                                                                                                
    alias da_purple_strdup_withhtml = gchar* function(const(gchar)* src);																																										                                                                                                                
    alias da_purple_str_add_cr = char* function(const(char)* str);																																												                                                                                                                
    alias da_purple_str_strip_char = void function(char* str, char thechar);																																									                                                                                                                
    alias da_purple_util_chrreplace = void function(char* string, char delimiter, char replacement);																																			                                                                                                                
    alias da_purple_strreplace = gchar* function(const(char)* string, const(char)* delimiter, const(char)* replacement);																														                                                                                                                
    alias da_purple_utf8_ncr_encode = char* function(const(char)* in_);																																											                                                                                                                
    alias da_purple_utf8_ncr_decode = char* function(const(char)* in_);																																											                                                                                                                
    alias da_purple_strcasereplace = gchar* function(const(char)* string, const(char)* delimiter, const(char)* replacement);																													                                                                                                                
    alias da_purple_strcasestr = const(char)* function(const(char)* haystack, const(char)* needle);																																				                                                                                                                
    alias da_purple_str_size_to_units = char* function(size_t size);																																											                                                                                                                
    alias da_purple_str_seconds_to_string = char* function(guint sec);																																											                                                                                                                
    alias da_purple_str_binary_to_ascii = char* function(const(ubyte)* binary, guint len);																																						                                                                                                                
    alias da_purple_got_protocol_handler_uri = void function(const(char)* uri);																																									                                                                                                                
    alias da_purple_url_parse = gboolean function(const(char)* url, char** ret_host, int* ret_port, char** ret_path, char** ret_user, char** ret_passwd);																						                                                                                                                
    alias da_purple_util_fetch_url_request = PurpleUtilFetchUrlData* function(const(gchar)* url, gboolean full, const(gchar)* user_agent, gboolean http11, const(gchar)* request, gboolean include_headers, PurpleUtilFetchUrlCallback callback, gpointer data);																								
    alias da_purple_util_fetch_url_request_len = PurpleUtilFetchUrlData* function(const(gchar)* url, gboolean full, const(gchar)* user_agent, gboolean http11, const(gchar)* request, gboolean include_headers, gssize max_len, PurpleUtilFetchUrlCallback callback, gpointer data);																			
    alias da_purple_util_fetch_url_request_len_with_account = PurpleUtilFetchUrlData* function(PurpleAccount* account, const(gchar)* url, gboolean full, const(gchar)* user_agent, gboolean http11, const(gchar)* request, gboolean include_headers, gssize max_len, PurpleUtilFetchUrlCallback callback, gpointer data);										
    alias da_purple_util_fetch_url_cancel = void function(PurpleUtilFetchUrlData* url_data);																																							                                                                                                        
    alias da_purple_url_decode = const(char)* function(const(char)* str);																																												                                                                                                        
    alias da_purple_url_encode = const(char)* function(const(char)* str);																																												                                                                                                        
    alias da_purple_email_is_valid = gboolean function(const(char)* address);																																											                                                                                                        
    alias da_purple_ip_address_is_valid = gboolean function(const(char)* ip);																																											                                                                                                        
    alias da_purple_ipv4_address_is_valid = gboolean function(const(char)* ip);																																											                                                                                                        
    alias da_purple_ipv6_address_is_valid = gboolean function(const(char)* ip);																																											                                                                                                        
    alias da_purple_uri_list_extract_uris = GList* function(const(gchar)* uri_list);																																									                                                                                                        
    alias da_purple_uri_list_extract_filenames = GList* function(const(gchar)* uri_list);																																								                                                                                                        
    alias da_purple_utf8_try_convert = gchar* function(const(char)* str);																																												                                                                                                        
    alias da_purple_utf8_salvage = gchar* function(const(char)* str);																																													                                                                                                        
    alias da_purple_utf8_strip_unprintables = gchar* function(const(gchar)* str);																																										                                                                                                        
    alias da_purple_gai_strerror = const(gchar)* function(gint errnum);																																													                                                                                                        
    alias da_purple_utf8_strcasecmp = int function(const(char)* a, const(char)* b);																																										                                                                                                        
    alias da_purple_utf8_has_word = gboolean function(const(char)* haystack, const(char)* needle);																																						                                                                                                        
    alias da_purple_print_utf8_to_console = void function(FILE* filestream, char* message);																																								                                                                                                        
    alias da_purple_message_meify = gboolean function(char* message, gssize len);																																										                                                                                                        
    alias da_purple_text_strip_mnemonic = char* function(const(char)* in_);																																												                                                                                                        
    alias da_purple_unescape_filename = const(char)* function(const(char)* str);																																										                                                                                                        
    alias da_purple_escape_filename = const(char)* function(const(char)* str);																																											                                                                                                        
    alias da__purple_oscar_convert = const(char)* function(const(char)* act, const(char)* protocol);																																					                                                                                                        
    alias da_purple_restore_default_signal_handlers = void function();																																													                                                                                                        
    alias da_purple_get_host_name = const(gchar)* function();																																															                                                                                                        
    alias da_purple_uuid_random = gchar* function();	
}

__gshared
{
	da_purple_menu_action_new purple_menu_action_new;
	da_purple_menu_action_free purple_menu_action_free;
	da_purple_util_set_current_song purple_util_set_current_song;
	da_purple_util_format_song_info purple_util_format_song_info;
	da_purple_util_init purple_util_init;
	da_purple_util_uninit purple_util_uninit;
	da_purple_base16_encode purple_base16_encode;
	da_purple_base16_decode purple_base16_decode;
	da_purple_base16_encode_chunked purple_base16_encode_chunked;
	da_purple_base64_encode purple_base64_encode;
	da_purple_base64_decode purple_base64_decode;
	da_purple_quotedp_decode purple_quotedp_decode;
	da_purple_mime_decode_field purple_mime_decode_field;
	da_purple_utf8_strftime purple_utf8_strftime;
	da_purple_get_tzoff_str purple_get_tzoff_str;
	da_purple_date_format_short purple_date_format_short;
	da_purple_date_format_long purple_date_format_long;
	da_purple_date_format_full purple_date_format_full;
	da_purple_time_format purple_time_format;
	da_purple_time_build purple_time_build;
	da_purple_str_to_time purple_str_to_time;
	da_purple_markup_escape_text purple_markup_escape_text;
	da_purple_markup_find_tag purple_markup_find_tag;
	da_purple_markup_extract_info_field purple_markup_extract_info_field;
	da_purple_markup_html_to_xhtml purple_markup_html_to_xhtml;
	da_purple_markup_strip_html purple_markup_strip_html;
	da_purple_markup_linkify purple_markup_linkify;
	da_purple_unescape_text purple_unescape_text;
	da_purple_unescape_html purple_unescape_html;
	da_purple_markup_slice purple_markup_slice;
	da_purple_markup_get_tag_name purple_markup_get_tag_name;
	da_purple_markup_unescape_entity purple_markup_unescape_entity;
	da_purple_markup_get_css_property purple_markup_get_css_property;
	da_purple_markup_is_rtl purple_markup_is_rtl;
	da_purple_home_dir purple_home_dir;
	da_purple_user_dir purple_user_dir;
	da_purple_util_set_user_dir purple_util_set_user_dir;
	da_purple_build_dir purple_build_dir;
	da_purple_util_write_data_to_file purple_util_write_data_to_file;
	da_purple_util_write_data_to_file_absolute purple_util_write_data_to_file_absolute;
	da_purple_util_read_xml_from_file purple_util_read_xml_from_file;
	da_purple_mkstemp purple_mkstemp;
	da_purple_util_get_image_extension purple_util_get_image_extension;
	da_purple_util_get_image_checksum purple_util_get_image_checksum;
	da_purple_util_get_image_filename purple_util_get_image_filename;
	da_purple_program_is_valid purple_program_is_valid;
	da_purple_running_gnome purple_running_gnome;
	da_purple_running_kde purple_running_kde;
	da_purple_running_osx purple_running_osx;
	da_purple_fd_get_ip purple_fd_get_ip;
	da_purple_socket_get_family purple_socket_get_family;
	da_purple_socket_speaks_ipv4 purple_socket_speaks_ipv4;
	da_purple_strequal purple_strequal;
	da_purple_normalize purple_normalize;
	da_purple_normalize_nocase purple_normalize_nocase;
	da_purple_str_has_prefix purple_str_has_prefix;
	da_purple_str_has_suffix purple_str_has_suffix;
	da_purple_strdup_withhtml purple_strdup_withhtml;
	da_purple_str_add_cr purple_str_add_cr;
	da_purple_str_strip_char purple_str_strip_char;
	da_purple_util_chrreplace purple_util_chrreplace;
	da_purple_strreplace purple_strreplace;
	da_purple_utf8_ncr_encode purple_utf8_ncr_encode;
	da_purple_utf8_ncr_decode purple_utf8_ncr_decode;
	da_purple_strcasereplace purple_strcasereplace;
	da_purple_strcasestr purple_strcasestr;
	da_purple_str_size_to_units purple_str_size_to_units;
	da_purple_str_seconds_to_string purple_str_seconds_to_string;
	da_purple_str_binary_to_ascii purple_str_binary_to_ascii;
	da_purple_got_protocol_handler_uri purple_got_protocol_handler_uri;
	da_purple_url_parse purple_url_parse;
	da_purple_util_fetch_url_request purple_util_fetch_url_request;
	da_purple_util_fetch_url_request_len purple_util_fetch_url_request_len;
	da_purple_util_fetch_url_request_len_with_account purple_util_fetch_url_request_len_with_account;
	da_purple_util_fetch_url_cancel purple_util_fetch_url_cancel;
	da_purple_url_decode purple_url_decode;
	da_purple_url_encode purple_url_encode;
	da_purple_email_is_valid purple_email_is_valid;
	da_purple_ip_address_is_valid purple_ip_address_is_valid;
	da_purple_ipv4_address_is_valid purple_ipv4_address_is_valid;
	da_purple_ipv6_address_is_valid purple_ipv6_address_is_valid;
	da_purple_uri_list_extract_uris purple_uri_list_extract_uris;
	da_purple_uri_list_extract_filenames purple_uri_list_extract_filenames;
	da_purple_utf8_try_convert purple_utf8_try_convert;
	da_purple_utf8_salvage purple_utf8_salvage;
	da_purple_utf8_strip_unprintables purple_utf8_strip_unprintables;
	da_purple_gai_strerror purple_gai_strerror;
	da_purple_utf8_strcasecmp purple_utf8_strcasecmp;
	da_purple_utf8_has_word purple_utf8_has_word;
	da_purple_print_utf8_to_console purple_print_utf8_to_console;
	da_purple_message_meify purple_message_meify;
	da_purple_text_strip_mnemonic purple_text_strip_mnemonic;
	da_purple_unescape_filename purple_unescape_filename;
	da_purple_escape_filename purple_escape_filename;
	da__purple_oscar_convert _purple_oscar_convert;
	da_purple_restore_default_signal_handlers purple_restore_default_signal_handlers;
	da_purple_get_host_name purple_get_host_name;
	da_purple_uuid_random purple_uuid_random;
}